<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NetLab</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Inter',sans-serif;
}

body{
background:#0e0e11;
color:white;
height:100vh;
display:flex;
flex-direction:column;
}

/* HEADER */
.header{
padding:28px 24px 10px;
font-size:26px;
font-weight:800;
letter-spacing:1px;
}

/* CONTENT */
.content{
flex:1;
overflow-y:auto;
padding:20px;
padding-bottom:110px;
}

/* CARD */
.card{
background:#18181c;
border-radius:26px;
padding:24px;
margin-bottom:22px;
}

/* TYPO */
.title{
font-size:14px;
opacity:0.6;
margin-bottom:8px;
}

.big{
font-size:42px;
font-weight:800;
}

/* INPUT */
input{
width:100%;
padding:14px;
margin-top:12px;
border-radius:16px;
border:none;
background:#101014;
color:white;
font-size:16px;
}

/* BUTTON */
button{
width:100%;
padding:16px;
margin-top:16px;
border-radius:16px;
border:none;
background:white;
color:black;
font-weight:600;
font-size:16px;
cursor:pointer;
transition:0.2s;
}

button:hover{
opacity:0.85;
}

/* PROGRESS */
.progress{
height:8px;
background:#111114;
border-radius:20px;
margin-top:20px;
overflow:hidden;
}

.progress-bar{
height:100%;
background:white;
width:0%;
transition:0.4s;
}

/* NAV */
.nav{
position:fixed;
bottom:0;
left:0;
right:0;
height:90px;
background:#141418;
display:flex;
justify-content:space-around;
align-items:center;
border-top:1px solid #1f1f25;
}

.nav-item{
flex:1;
text-align:center;
font-size:13px;
opacity:0.5;
cursor:pointer;
padding-top:8px;
}

.nav-item span{
display:block;
font-size:22px;
margin-bottom:6px;
}

.nav-item.active{
opacity:1;
}

</style>
</head>
<body>

<div class="header">
NetLab
</div>

<div class="content" id="app"></div>

<div class="nav">
<div class="nav-item active" onclick="switchTab('home',this)">
<span>üè†</span>Ana
</div>
<div class="nav-item" onclick="switchTab('net',this)">
<span>üìä</span>Net
</div>
<div class="nav-item" onclick="switchTab('timer',this)">
<span>‚è±</span>S√ºre
</div>
</div>

<script>

/* STATE */
let currentNet=parseFloat(localStorage.getItem("net"))||0;
let target=parseFloat(localStorage.getItem("target"))||0;
let seconds=parseInt(localStorage.getItem("seconds"))||0;
let daily=parseInt(localStorage.getItem("daily"))||0;
let interval=null;

/* NAV */
function switchTab(tab,el){
document.querySelectorAll(".nav-item").forEach(n=>n.classList.remove("active"));
el.classList.add("active");

if(tab==="home") renderHome();
if(tab==="net") renderNet();
if(tab==="timer") renderTimer();
}

/* HOME */
function renderHome(){
app.innerHTML=`
<div class="card">
<div class="title">Bug√ºnk√º Net</div>
<div class="big">${currentNet.toFixed(2)}</div>
</div>

<div class="card">
<div class="title">Bug√ºnk√º √áalƒ±≈üma</div>
<div class="big">${daily} dk</div>
</div>
`;
}

/* NET */
function renderNet(){
app.innerHTML=`
<div class="card">
<div class="title">Net Hesapla</div>
<input type="number" id="d" placeholder="Doƒüru">
<input type="number" id="y" placeholder="Yanlƒ±≈ü">
<button onclick="calc()">Hesapla</button>
<div class="big">${currentNet.toFixed(2)}</div>
</div>

<div class="card">
<div class="title">Hedef Net</div>
<input type="number" id="t" placeholder="Hedef">
<button onclick="setTarget()">Kaydet</button>
<div class="progress">
<div class="progress-bar" id="bar"></div>
</div>
</div>
`;
updateBar();
}

function calc(){
let d=parseFloat(document.getElementById("d").value)||0;
let y=parseFloat(document.getElementById("y").value)||0;
currentNet=d-(y/4);
localStorage.setItem("net",currentNet);
renderNet();
}

function setTarget(){
target=parseFloat(document.getElementById("t").value)||0;
localStorage.setItem("target",target);
updateBar();
}

function updateBar(){
if(target>0){
let percent=(currentNet/target)*100;
document.getElementById("bar").style.width=
Math.min(percent,100)+"%";
}
}

/* TIMER */
function renderTimer(){
app.innerHTML=`
<div class="card">
<div class="title">Kronometre</div>
<div class="big">${format(seconds)}</div>
<button onclick="start()">Ba≈ülat</button>
<button onclick="pause()">Duraklat</button>
<button onclick="reset()">Sƒ±fƒ±rla</button>
</div>

<div class="card">
<div class="title">Bug√ºn Toplam</div>
<div class="big">${daily} dk</div>
</div>
`;
}

function start(){
if(!interval){
interval=setInterval(()=>{
seconds++;
localStorage.setItem("seconds",seconds);
renderTimer();
},1000);
}
}

function pause(){
clearInterval(interval);
interval=null;
daily+=Math.floor(seconds/60);
localStorage.setItem("daily",daily);
seconds=0;
localStorage.setItem("seconds",0);
renderTimer();
}

function reset(){
clearInterval(interval);
interval=null;
seconds=0;
localStorage.setItem("seconds",0);
renderTimer();
}

function format(s){
let h=Math.floor(s/3600);
let m=Math.floor((s%3600)/60);
let ss=s%60;
return pad(h)+":"+pad(m)+":"+pad(ss);
}
function pad(n){return n<10?"0"+n:n;}

/* INIT */
renderHome();

</script>

</body>
</html>
